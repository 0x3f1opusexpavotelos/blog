---
import type { CollectionEntry, getEntry } from 'astro:content'
import { Image } from 'astro:assets'

type Props = {
  post: CollectionEntry<'posts'>
}

const { post } = Astro.props

// const author = await getEntry('author', post.data.author || 'xiyuan')
---

<article>
  <a href={`/posts/${post.slug}`} arial-label={`Post detail: Read more about ${post.data.title}`}> </a>
  <Image src={post.data.cover || '/avatar.png'} alt={post.data.title} width={600} height={600 / 1.5} format="webp" class="rounded-2xl shadow-xl mb-6 aspect-thumbnail object-cover" />

  <a href={`/posts/${post.slug}`} class="text-4xl text-zinc-900 mb-4 font-semibold inline-block">
    {post.data.title}
  </a>

  <p class="text-zinc-500 text-2xl mb-9 line-clamp-2">
    {post.body}
  </p>
</article>
